{"ast":null,"code":"import React from\"react\";import{postAddReview,postDeleteReview}from\"./FetchApi\";import{isAuthenticate}from\"../auth/fetchApi\";import{jsx as _jsx}from\"react/jsx-runtime\";export const Alert=(color,text)=>/*#__PURE__*/_jsx(\"div\",{className:`bg-${color}-200 px-4 py-2 my-2 rounded`,children:text});export const reviewSubmitHanlder=(fData,setFdata,fetchData)=>{if(!fData.rating||!fData.review){setFdata({...fData,error:\"Rating and review must be required\"});}else if(!isAuthenticate()){setFdata({...fData,error:\"You must need login to review\"});}else{addReview(fData,setFdata,fetchData);}};export const deleteReview=async(reviewId,productId,fetchData,setFdata)=>{try{let responseData=await postDeleteReview({rId:reviewId,pId:productId});if(responseData.success){fetchData();setFdata({success:responseData.success});}else if(responseData.error){fetchData();}}catch(error){console.log(error);}};export const addReview=async(fData,setFdata,fetchData)=>{let formData={rating:fData.rating,review:fData.review,pId:fData.pId,uId:JSON.parse(localStorage.getItem(\"jwt\")).user._id};try{let responseData=await postAddReview(formData);if(responseData.success){setFdata({...fData,success:responseData.success,review:\"\",rating:\"\"});fetchData();}else if(responseData.error){setFdata({...fData,error:responseData.error,review:\"\",rating:\"\"});fetchData();}}catch(error){console.log(error);}};","map":{"version":3,"names":["React","postAddReview","postDeleteReview","isAuthenticate","jsx","_jsx","Alert","color","text","className","children","reviewSubmitHanlder","fData","setFdata","fetchData","rating","review","error","addReview","deleteReview","reviewId","productId","responseData","rId","pId","success","console","log","formData","uId","JSON","parse","localStorage","getItem","user","_id"],"sources":["C:/Users/Shashanth V/OneDrive/Desktop/MERN_Stack_Project_Ecommerce_Hayroo-master/client/src/components/shop/productDetails/Action.js"],"sourcesContent":["import React from \"react\";\nimport { postAddReview, postDeleteReview } from \"./FetchApi\";\nimport { isAuthenticate } from \"../auth/fetchApi\";\n\nexport const Alert = (color, text) => (\n  <div className={`bg-${color}-200 px-4 py-2 my-2 rounded`}>{text}</div>\n);\n\nexport const reviewSubmitHanlder = (fData, setFdata, fetchData) => {\n  if (!fData.rating || !fData.review) {\n    setFdata({ ...fData, error: \"Rating and review must be required\" });\n  } else if (!isAuthenticate()) {\n    setFdata({ ...fData, error: \"You must need login to review\" });\n  } else {\n    addReview(fData, setFdata, fetchData);\n  }\n};\n\nexport const deleteReview = async (\n  reviewId,\n  productId,\n  fetchData,\n  setFdata\n) => {\n  try {\n    let responseData = await postDeleteReview({\n      rId: reviewId,\n      pId: productId,\n    });\n    if (responseData.success) {\n      fetchData();\n      setFdata({ success: responseData.success });\n    } else if (responseData.error) {\n      fetchData();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const addReview = async (fData, setFdata, fetchData) => {\n  let formData = {\n    rating: fData.rating,\n    review: fData.review,\n    pId: fData.pId,\n    uId: JSON.parse(localStorage.getItem(\"jwt\")).user._id,\n  };\n  try {\n    let responseData = await postAddReview(formData);\n    if (responseData.success) {\n      setFdata({\n        ...fData,\n        success: responseData.success,\n        review: \"\",\n        rating: \"\",\n      });\n      fetchData();\n    } else if (responseData.error) {\n      setFdata({ ...fData, error: responseData.error, review: \"\", rating: \"\" });\n      fetchData();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,gBAAgB,KAAQ,YAAY,CAC5D,OAASC,cAAc,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,MAAO,MAAM,CAAAC,KAAK,CAAGA,CAACC,KAAK,CAAEC,IAAI,gBAC/BH,IAAA,QAAKI,SAAS,CAAE,MAAMF,KAAK,6BAA8B,CAAAG,QAAA,CAAEF,IAAI,CAAM,CACtE,CAED,MAAO,MAAM,CAAAG,mBAAmB,CAAGA,CAACC,KAAK,CAAEC,QAAQ,CAAEC,SAAS,GAAK,CACjE,GAAI,CAACF,KAAK,CAACG,MAAM,EAAI,CAACH,KAAK,CAACI,MAAM,CAAE,CAClCH,QAAQ,CAAC,CAAE,GAAGD,KAAK,CAAEK,KAAK,CAAE,oCAAqC,CAAC,CAAC,CACrE,CAAC,IAAM,IAAI,CAACd,cAAc,CAAC,CAAC,CAAE,CAC5BU,QAAQ,CAAC,CAAE,GAAGD,KAAK,CAAEK,KAAK,CAAE,+BAAgC,CAAC,CAAC,CAChE,CAAC,IAAM,CACLC,SAAS,CAACN,KAAK,CAAEC,QAAQ,CAAEC,SAAS,CAAC,CACvC,CACF,CAAC,CAED,MAAO,MAAM,CAAAK,YAAY,CAAG,KAAAA,CAC1BC,QAAQ,CACRC,SAAS,CACTP,SAAS,CACTD,QAAQ,GACL,CACH,GAAI,CACF,GAAI,CAAAS,YAAY,CAAG,KAAM,CAAApB,gBAAgB,CAAC,CACxCqB,GAAG,CAAEH,QAAQ,CACbI,GAAG,CAAEH,SACP,CAAC,CAAC,CACF,GAAIC,YAAY,CAACG,OAAO,CAAE,CACxBX,SAAS,CAAC,CAAC,CACXD,QAAQ,CAAC,CAAEY,OAAO,CAAEH,YAAY,CAACG,OAAQ,CAAC,CAAC,CAC7C,CAAC,IAAM,IAAIH,YAAY,CAACL,KAAK,CAAE,CAC7BH,SAAS,CAAC,CAAC,CACb,CACF,CAAE,MAAOG,KAAK,CAAE,CACdS,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC,CACpB,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAG,KAAAA,CAAON,KAAK,CAAEC,QAAQ,CAAEC,SAAS,GAAK,CAC7D,GAAI,CAAAc,QAAQ,CAAG,CACbb,MAAM,CAAEH,KAAK,CAACG,MAAM,CACpBC,MAAM,CAAEJ,KAAK,CAACI,MAAM,CACpBQ,GAAG,CAAEZ,KAAK,CAACY,GAAG,CACdK,GAAG,CAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC,CAACC,IAAI,CAACC,GACpD,CAAC,CACD,GAAI,CACF,GAAI,CAAAb,YAAY,CAAG,KAAM,CAAArB,aAAa,CAAC2B,QAAQ,CAAC,CAChD,GAAIN,YAAY,CAACG,OAAO,CAAE,CACxBZ,QAAQ,CAAC,CACP,GAAGD,KAAK,CACRa,OAAO,CAAEH,YAAY,CAACG,OAAO,CAC7BT,MAAM,CAAE,EAAE,CACVD,MAAM,CAAE,EACV,CAAC,CAAC,CACFD,SAAS,CAAC,CAAC,CACb,CAAC,IAAM,IAAIQ,YAAY,CAACL,KAAK,CAAE,CAC7BJ,QAAQ,CAAC,CAAE,GAAGD,KAAK,CAAEK,KAAK,CAAEK,YAAY,CAACL,KAAK,CAAED,MAAM,CAAE,EAAE,CAAED,MAAM,CAAE,EAAG,CAAC,CAAC,CACzED,SAAS,CAAC,CAAC,CACb,CACF,CAAE,MAAOG,KAAK,CAAE,CACdS,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC,CACpB,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}