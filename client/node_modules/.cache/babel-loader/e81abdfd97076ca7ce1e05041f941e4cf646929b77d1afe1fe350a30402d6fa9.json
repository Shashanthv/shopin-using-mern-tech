{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{wishListProducts}from\"./FetchApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiURL=process.env.REACT_APP_API_URL;const Product=()=>{const history=useHistory();const[products,setProducts]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{setLoading(true);let responseData=await wishListProducts();setTimeout(()=>{if(responseData&&responseData.Products){setProducts(responseData.Products);setLoading(false);}},50);};const removeFromWishList=id=>{let list=localStorage.getItem(\"wishList\")?JSON.parse(localStorage.getItem(\"wishList\")):[];if(list.length>0){if(list.includes(id)===true){list.splice(list.indexOf(id),1);localStorage.setItem(\"wishList\",JSON.stringify(list));fetchData();}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"my-32 text-2xl text-center\",children:\"No product found in wishList\"});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-1\",children:products.length>0?products.map((product,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 md:flex md:items-center\",children:[/*#__PURE__*/_jsx(\"img\",{onClick:e=>history.push(`/products/${product._id}`),className:\"cursor-pointer md:h-20 md:w-20 object-cover object-center\",src:`${apiURL}/uploads/products/${product.pImages[0]}`,alt:\"wishListproduct\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg md:ml-6 truncate\",children:product.pName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 md:flex md:items-center md:justify-around\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-gray-600\",children:[\"$\",product.pPrice,\".00\"]}),product.pQuantity>0?/*#__PURE__*/_jsx(\"div\",{className:\"text-green-500 my-1 md:my-0\",children:\"In Stock\"}):/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 my-1 md:my-0\",children:\"Out Stock\"}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"#303031\"},onClick:e=>history.push(`/products/${product._id}`),className:\"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75\",children:\"View\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 right-0 mx-2 my-2 md:relative\",children:/*#__PURE__*/_jsx(\"svg\",{onClick:e=>removeFromWishList(product._id),className:\"w-6 h-6 cursor-pointer\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]},index);}):/*#__PURE__*/_jsx(\"div\",{children:\"No product found in wishList\"})})});};const SingleWishProduct=props=>{return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:\"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mx-2 mb-6\",children:\"Wishlist\"}),/*#__PURE__*/_jsx(Product,{})]})});};export default SingleWishProduct;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useHistory","wishListProducts","jsx","_jsx","jsxs","_jsxs","apiURL","process","env","REACT_APP_API_URL","Product","history","products","setProducts","loading","setLoading","fetchData","responseData","setTimeout","Products","removeFromWishList","id","list","localStorage","getItem","JSON","parse","length","includes","splice","indexOf","setItem","stringify","className","children","map","product","index","onClick","e","push","_id","src","pImages","alt","pName","pPrice","pQuantity","style","background","fill","viewBox","xmlns","fillRule","d","clipRule","SingleWishProduct","props"],"sources":["C:/Users/Shashanth V/OneDrive/Desktop/MERN_Stack_Project_Ecommerce_Hayroo-master/client/src/components/shop/wishlist/SingleWishProduct.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { wishListProducts } from \"./FetchApi\";\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst Product = () => {\n  const history = useHistory();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    let responseData = await wishListProducts();\n    setTimeout(() => {\n      if (responseData && responseData.Products) {\n        setProducts(responseData.Products);\n        setLoading(false);\n      }\n    }, 50);\n  };\n\n  const removeFromWishList = (id) => {\n    let list = localStorage.getItem(\"wishList\")\n      ? JSON.parse(localStorage.getItem(\"wishList\"))\n      : [];\n    if (list.length > 0) {\n      if (list.includes(id) === true) {\n        list.splice(list.indexOf(id), 1);\n        localStorage.setItem(\"wishList\", JSON.stringify(list));\n        fetchData();\n      }\n    }\n  };\n  if (loading) {\n    return (\n      <div className=\"my-32 text-2xl text-center\">\n        No product found in wishList\n      </div>\n    );\n  }\n  return (\n    <Fragment>\n      <div className=\"grid grid-cols-2 md:grid-cols-1\">\n        {products.length > 0 ? (\n          products.map((product, index) => {\n            return (\n              <div\n                key={index}\n                className=\"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between\"\n              >\n                <div className=\"md:w-1/2 md:flex md:items-center\">\n                  <img\n                    onClick={(e) => history.push(`/products/${product._id}`)}\n                    className=\"cursor-pointer md:h-20 md:w-20 object-cover object-center\"\n                    src={`${apiURL}/uploads/products/${product.pImages[0]}`}\n                    alt=\"wishListproduct\"\n                  />\n                  <div className=\"text-lg md:ml-6 truncate\">\n                    {product.pName}\n                  </div>\n                </div>\n                <div className=\"md:w-1/2 md:flex md:items-center md:justify-around\">\n                  <div className=\"font-semibold text-gray-600\">\n                    ${product.pPrice}.00\n                  </div>\n                  {product.pQuantity > 0 ? (\n                    <div className=\"text-green-500 my-1 md:my-0\">In Stock</div>\n                  ) : (\n                    <div className=\"text-red-500 my-1 md:my-0\">Out Stock</div>\n                  )}\n\n                  <div\n                    style={{ background: \"#303031\" }}\n                    onClick={(e) => history.push(`/products/${product._id}`)}\n                    className=\"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75\"\n                  >\n                    View\n                  </div>\n                </div>\n                <div className=\"absolute top-0 right-0 mx-2 my-2 md:relative\">\n                  <svg\n                    onClick={(e) => removeFromWishList(product._id)}\n                    className=\"w-6 h-6 cursor-pointer\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 20 20\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div>No product found in wishList</div>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nconst SingleWishProduct = (props) => {\n  return (\n    <Fragment>\n      <section className=\"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24\">\n        <div className=\"text-2xl mx-2 mb-6\">Wishlist</div>\n        {/* Product List */}\n        <Product />\n      </section>\n    </Fragment>\n  );\n};\n\nexport default SingleWishProduct;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}